\section{Simple use}

\begin{frame}[t,fragile]{Example: Transforming a sequence}
\begin{itemize}
  \item Given a sequence of \cppid{frame}s generate a new
        sequence of frames in grayscale.
\begin{lstlisting}
struct frame { /*...*/ };
frame togray(const frame & f);
\end{lstlisting}
\end{itemize}
\begin{center}
\input{frame-map.tkz}
\end{center}
\end{frame}

\begin{frame}[t,fragile]{Transforming a sequence}
\begin{block}{Traditional explicit loop}
\lstinputlisting[firstline=6,lastline=17]{ej/src/togray/loop.cpp}
\end{block}
\end{frame}

\begin{frame}[t,fragile]{Transforming a sequence}
\begin{block}{STL way}
\lstinputlisting[firstline=6,lastline=17]{ej/src/togray/stl-transform.cpp}
\end{block}
\end{frame}

\begin{frame}[t,fragile]{Transforming a sequence}
\begin{block}{Parallel STL way (C++17)}
\lstinputlisting[firstline=6,lastline=18]{ej/src/togray/pstl-transform.cpp}
\end{block}
\end{frame}

\begin{frame}[t,fragile]{Transforming a sequence}
\begin{block}{GrPPI (map pattern)}
\lstinputlisting[firstline=8,lastline=18]{ej/src/togray/grppi-frames.cpp}
\end{block}
\end{frame}

\begin{frame}[t,fragile]{Transforming a sequence}
\begin{block}{GrPPI + lambda}
\lstinputlisting[firstline=8,lastline=19]{ej/src/togray/grppi-filter-lambda.cpp}
\end{block}
\end{frame}

